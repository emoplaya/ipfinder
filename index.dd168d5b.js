let e,t;async function n(e="8.8.8.8"){let t=await fetch(`https://geo.ipify.org/api/v2/country,city?apiKey=at_Qz7BuZQV8a25lmxXYm9OkMJT5KIIm&ipAddress=${e}`);return await t.json()}const o=document.querySelector(".search-bar__input"),r=document.querySelector("button"),a=document.querySelector("#ip"),i=document.querySelector("#location"),c=document.querySelector("#timezone"),s=document.querySelector("#isp");r.addEventListener("click",u),o.addEventListener("keydown",function(e){"Enter"===e.key&&u()});const d=document.querySelector(".map");function u(){var e;e=o.value,(/^(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||(alert("You have to enter a valid IP address"),0))&&n(o.value).then(l)}function l(n){let{lat:o,lng:r,country:d,region:u,timezone:l}=n.location;a.innerText=n.ip,i.innerText=d+" "+u,c.innerText=l,s.innerText=n.isp,e&&t&&(e.setCenter([o,r],10),t.geometry.setCoordinates([o,r]),t.properties.set({hintContent:`${d}, ${u}`,balloonContent:`IP: ${n.ip}<br>ISP: ${n.isp}`}))}({load:function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"//api-maps.yandex.ru/2.1/?lang=en_RU",t=function(){var t=e.match(/[\\?&]ns=([^&#]*)/);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};return this.promise||(this.promise=new Promise(function(t,n){var o=document.createElement("script");o.onload=t,o.onerror=n,o.type="text/javascript",o.src=e,document.body.appendChild(o)}).then(function(){var e=t();return e&&"ymaps"!==e&&(0,eval)("var ymaps = ".concat(e,";")),new Promise(function(e){return ymaps.ready(e)})})),this.promise}}).load().then(n=>{e=new n.Map(d,{center:[51.505,-.09],zoom:10,controls:[]}),t=new n.Placemark([51.505,-.09]),e.geoObjects.add(t)}).catch(e=>console.log("Failed to load Yandex Maps",e)),document.addEventListener("DOMContentLoaded",()=>{n("102.22.22.1").then(l)});
//# sourceMappingURL=index.dd168d5b.js.map
